'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function readMetaValue(memory, func) {
    return ab2str(getExportValue(memory, func));
}
function getExportValue(memory, func) {
    if (!func) {
        return undefined;
    }
    const result_ptr = func();
    const pointer = new Uint32Array(memory.buffer.slice(result_ptr, result_ptr + 4))[0];
    const length = new Uint32Array(memory.buffer.slice(result_ptr + 4, result_ptr + 8))[0];
    const buf = memory.buffer.slice(pointer, pointer + length);
    return buf;
}
function ab2str(buf) {
    return String.fromCharCode.apply(null, new Uint8Array(buf));
}
const PAGE_SIZE = 4096;

exports.PAGE_SIZE = PAGE_SIZE;
exports.ab2str = ab2str;
exports.getExportValue = getExportValue;
exports.readMetaValue = readMetaValue;
